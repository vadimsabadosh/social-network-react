{"version":3,"sources":["redux/reducerUsers.js","components/NavBar/NavBar.module.css","components/hoc/AuthRedirect.js","api/api.js","components/Header/Header.module.css","components/Messages/Messages.module.css","redux/reducerAuth.js","redux/reducerMessages.js","redux/reducerSidebar.js","redux/reducerApp.js","redux/redux-store.js","components/NavBar/FriendsList/FriendList.jsx","components/NavBar/FriendsList/FriendsListContainer.jsx","components/NavBar/Menu/Menu.jsx","components/NavBar/NavBar.jsx","components/Messages/MessageUser/MessageUser.jsx","components/Messages/Message/Message.jsx","components/Messages/Messages.jsx","components/Messages/MessagesContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","components/validate/validate.js","components/common/FormsControl/FormsControl.js","components/common/FormsControl/FormControl.module.css","redux/reducerProfile.js","assets/images/Spinner.svg","components/common/Preloader/Preloader.jsx"],"names":["FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_LOADING","FOLLOWING_IN_PROGRESS","initialState","users","pageSize","totalCountUsers","currentPage","isLoading","followingInProgress","reducerUsers","state","action","type","map","u","id","userId","followed","page","count","bool","filter","follow","unfollow","setCurrentPage","toggleIsLoading","toggleFollowingInProgress","getUsersThunk","dispatch","a","userAPI","getUsers","response","items","totalCount","followUnfollowFunc","apiMethod","actionCreator","resultCode","followThunk","userFollow","bind","unfollowThunk","userUnfollow","module","exports","mapStateToPropsForRedirect","isAuth","auth","AuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","create","baseURL","withCredentials","headers","get","then","data","post","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","SET_USER_DATA","reducerAuth","setAuthUserData","getAuthUserData","SEND_MESSAGE","dialogs","name","messages","message","reducerMessages","newMsg","messageText","friendsList","photo","reducerSidebar","SET_INIT","initialized","reducerApp","reducers","combineReducers","messagesPage","profilePage","reducerProfile","usersPage","sidebar","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","FriendList","friends","friend","className","s","src","alt","friends_wrap","FriendsListContainer","Menu","nav_wrap","item","link","activeClassName","active","NavBar","nav","MessageUser","path","messagesUsers_user","messagesUsers_userActive","Message","maxLength10","maxLengthCreator","AddMessageFormRedux","reduxForm","onSubmit","handleSubmit","Field","component","TextArea","validate","required","placeholder","Messages","dialogsElems","d","messagesElems","m","title","messagesWrapper","messagesUsers","messagesWindow","values","sendMsg","sendMsgActionCreator","Header","header","headerImg","header_link","active_link","logout_btn","onClick","HeaderContainer","LoginReduxForm","Input","error","groupError","stopSubmit","_error","ProfileContainer","lazy","UsersContainer","App","setInitApp","init","render","MessagesContainer","fallback","exact","Preloader","AppContainer","MainApp","ReactDOM","StrictMode","document","getElementById","value","maxLength","length","FormControl","input","child","meta","touched","hasError","errorInput","children","restProps","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","posts","likesCount","profile","newPost","postText","newPostText","p","postId","addPostActionCreator","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","Loading"],"mappings":"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","file":"static/js/main.1321fe0c.chunk.js","sourcesContent":["import { userAPI } from '../api/api'\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_LOADING = 'TOGGLE_IS_LOADING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalCountUsers: 0,\r\n  currentPage: 1,\r\n  isLoading: false,\r\n  followingInProgress: [],\r\n\r\n}\r\n\r\nconst reducerUsers = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:{\r\n      return {\r\n        ...state, \r\n        users: state.users.map(u => {\r\n          \r\n          if(u.id === action.userId){\r\n            return {...u, followed: true}\r\n          }\r\n          return u;\r\n        \r\n        })\r\n      }\r\n    }\r\n\r\n    case UNFOLLOW:{\r\n      return {\r\n        ...state, \r\n        users: state.users.map(u => {\r\n          \r\n          if(u.id === action.userId){\r\n            return {...u, followed: false}\r\n          }\r\n          return u;\r\n        \r\n        })\r\n      }  \r\n    } \r\n    case SET_USERS: {\r\n      return {\r\n        ...state, users: action.users\r\n      } \r\n    }\r\n    case SET_CURRENT_PAGE:{\r\n      return {\r\n        ...state, currentPage: action.page\r\n      }\r\n    }\r\n    case SET_TOTAL_USERS_COUNT:{\r\n      return {\r\n        ...state, totalCountUsers: action.count\r\n      }\r\n    }\r\n    case TOGGLE_IS_LOADING: {\r\n      return {\r\n        ...state, isLoading: action.isLoading\r\n      }\r\n    }\r\n    case FOLLOWING_IN_PROGRESS: {\r\n      return {\r\n        ...state, \r\n        followingInProgress: action.bool ?\r\n        [...state.followingInProgress, action.userId] : \r\n        state.followingInProgress.filter(id => id !== action.userId),\r\n\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default reducerUsers;\r\n\r\n\r\n/* ------------- Action Creators ------------------ */ \r\nexport const follow = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollow = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (page) => ({ type: SET_CURRENT_PAGE, page });\r\nexport const setTotalUsersCount = (count) => ({ type: SET_TOTAL_USERS_COUNT, count });\r\nexport const toggleIsLoading = (isLoading) => ({ type: TOGGLE_IS_LOADING, isLoading });\r\nexport const toggleFollowingInProgress = (bool, userId) => ({ type: FOLLOWING_IN_PROGRESS, bool, userId });\r\n\r\n\r\n/*   ---------- THUNKS -------  */ \r\n\r\nexport const getUsersThunk = (page, pageSize) => {\r\n  return async(dispatch) => {\r\n    dispatch(toggleIsLoading(true));\r\n    dispatch(setCurrentPage(page))\r\n    let response = await userAPI.getUsers(page, pageSize);\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n    dispatch(toggleIsLoading(false))\r\n\r\n  }\r\n} \r\n\r\nconst followUnfollowFunc = async(dispatch, id, apiMethod, actionCreator ) => {\r\n  dispatch(toggleFollowingInProgress(true, id))\r\n  let response = await apiMethod(id);\r\n  if(response.resultCode === 0){\r\n    dispatch(actionCreator(id)) \r\n  }\r\n  dispatch(toggleFollowingInProgress(false, id))\r\n}\r\n\r\nexport const followThunk = (id) => {\r\n  return async(dispatch) => {\r\n    followUnfollowFunc(dispatch, id, userAPI.userFollow.bind(userAPI), follow)\r\n  }\r\n} \r\nexport const unfollowThunk = (id) => {\r\n  return async(dispatch) => {\r\n    followUnfollowFunc(dispatch, id, userAPI.userUnfollow.bind(userAPI), unfollow)\r\n  }\r\n} \r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__11mjV\",\"nav_wrap\":\"NavBar_nav_wrap__15f8u\",\"item\":\"NavBar_item__KdXvd\",\"link\":\"NavBar_link__2GUli\",\"active\":\"NavBar_active__VDtvY\",\"friends_wrap\":\"NavBar_friends_wrap__13xuf\",\"friends\":\"NavBar_friends__1Wrc1\",\"friend\":\"NavBar_friend__1B4m3\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nconst AuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n      render(){\r\n        if(!this.props.isAuth) return <Redirect to='/login'/>\r\n        return <Component {...this.props} />;\r\n      }\r\n    }\r\n    \r\n    let ConnectAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectAuthRedirectComponent;\r\n\r\n};\r\n\r\nexport default AuthRedirect;","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"b34def9f-b6b0-4ad4-9eb9-8da2139f5737\"\r\n  }\r\n})\r\n\r\n\r\nexport const userAPI = {\r\n\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n  },\r\n\r\n  userFollow(id) {\r\n    return instance.post(`follow/${id}`).then(response => response.data)\r\n  },\r\n  \r\n  userUnfollow(id) {\r\n    return instance.delete(`follow/${id}`).then(response => response.data)\r\n  },\r\n\r\n}\r\nexport const profileAPI = {\r\n\r\n  getProfile (id) {\r\n    return instance.get(`profile/${id}`);\r\n  },\r\n\r\n  getStatus(id){\r\n    return instance.get(`profile/status/${id}`);\r\n  },\r\n  updateStatus(status){\r\n    return instance.put(`profile/status`, {status: status});\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me(){\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false){\r\n    return instance.post(`auth/login`, {email, password, rememberMe})\r\n  },\r\n  logout(){\r\n    return instance.delete(`auth/login`)\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Ex7n\",\"headerImg\":\"Header_headerImg__-W7K6\",\"header_link\":\"Header_header_link__YIZC6\",\"active_link\":\"Header_active_link__2HDlX\",\"logout_btn\":\"Header_logout_btn__3utUP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Messages_title__TSr56\",\"messagesWrapper\":\"Messages_messagesWrapper__2n_Ni\",\"messagesUsers\":\"Messages_messagesUsers__2yuS2\",\"messagesUsers_user\":\"Messages_messagesUsers_user__1HfzI\",\"messagesUsers_userActive\":\"Messages_messagesUsers_userActive__3_Fgh\",\"messagesWindow\":\"Messages_messagesWindow__1KoQe\",\"message\":\"Messages_message__3gnbN\"};","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  login: null,\r\n  email: null,\r\n  isLoading: false,\r\n  isAuth: false,\r\n}\r\n\r\nconst reducerAuth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:{\r\n      return {\r\n        ...state, \r\n        ...action.data,\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default reducerAuth;\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: {userId, email, login, isAuth} });\r\n\r\nexport const getAuthUserData = () => {\r\n  return async(dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if(response.data.resultCode === 0){\r\n      let {id, email, login} = response.data.data\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n  }\r\n}\r\nexport const login = (email, password, rememberMe) => {\r\n  return async(dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if(response.data.resultCode === 0){\r\n      dispatch(getAuthUserData());\r\n    } else {\r\n      let action = stopSubmit('login', {_error: response.data.messages[0]});\r\n      dispatch(action)\r\n    }\r\n  }\r\n}\r\nexport const logout = () => {\r\n  return async(dispatch) => {\r\n    let response = await authAPI.logout();\r\n    \r\n    if(response.data.resultCode === 0){\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n  }\r\n}","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {id:1, name:'Anton'},\r\n    {id:2, name: 'Daria'},\r\n    {id:3, name:'Adnrew'},\r\n    {id:4, name: 'Oleksa'},\r\n    {id:5, name: 'Alyona'},\r\n    {id:6, name: 'Bruce'},\r\n  ],\r\n  messages:[\r\n    {id:1, message:'Hi'},\r\n    {id:2, message: 'Hi'},\r\n    {id:3, message:'Hi, how are you?'},\r\n    {id:4, message: 'pzdc'},\r\n    {id:5, message: 'are you?'},\r\n    {id:6, message: 'another pzdc'},\r\n  ],\r\n}\r\n\r\n\r\nconst reducerMessages = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:{\r\n      let newMsg = {\r\n        id: 10,\r\n        message: action.messageText,\r\n      }\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, newMsg],\r\n      }\r\n    }\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducerMessages;\r\n\r\n\r\nexport const sendMsgActionCreator = (messageText) => {\r\n  return {\r\n    type: SEND_MESSAGE,\r\n    messageText\r\n  }\r\n}","let initialState = {\r\n  friendsList:[\r\n    {\r\n      id:1,\r\n      name: 'Alice',\r\n      photo: 'https://upload.wikimedia.org/wikipedia/commons/e/ec/Woman_7.jpg'\r\n    },\r\n    {\r\n      id:2,\r\n      name: 'Arthur',\r\n      photo: 'https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500'\r\n    },\r\n    {\r\n      id:3,\r\n      name: 'Eric',\r\n      photo: 'https://media.gettyimages.com/photos/headshot-of-44-year-old-mixed-race-man-in-casual-polo-shirt-picture-id1264106963?s=612x612'\r\n    },\r\n  ]\r\n}\r\n\r\nconst reducerSidebar = (state = initialState, action) => {\r\n\r\n  return state;\r\n}\r\n\r\nexport default reducerSidebar;","import { getAuthUserData } from './reducerAuth';\r\n\r\nconst SET_INIT = 'SET_INIT';\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst reducerApp = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INIT:{\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default reducerApp;\r\n\r\nexport const setInit = () => ({ type: SET_INIT});\r\n\r\nexport const setInitApp = () => {\r\n  return (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n      dispatch(setInit())\r\n    })\r\n  }\r\n}\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport reducerAuth from './reducerAuth';\r\nimport reducerMessages from './reducerMessages';\r\nimport reducerProfile from './reducerProfile';\r\nimport reducerSidebar from './reducerSidebar';\r\nimport reducerUsers from './reducerUsers';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport reducerApp from './reducerApp';\r\n\r\n\r\n\r\nlet reducers = combineReducers({\r\n  messagesPage : reducerMessages, \r\n  profilePage: reducerProfile, \r\n  usersPage: reducerUsers,\r\n  sidebar: reducerSidebar,\r\n  auth: reducerAuth,\r\n  form: formReducer,\r\n  app: reducerApp\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport s from './../NavBar.module.css';\r\n\r\nconst FriendList = ({friendsList}) => {\r\n\r\n  let friends = friendsList.map(friend => {\r\n    return(\r\n        <div className={s.friend} key={friend.id}>\r\n          <img src={friend.photo} alt=\"\"/>\r\n          <h4>{friend.name}</h4>\r\n        </div>\r\n    )\r\n  })\r\n  \r\n  return (\r\n    <div className={s.friends_wrap}>\r\n      <h3>Friends</h3>\r\n      <div className={s.friends}>\r\n          { friends }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendList;","import { connect } from 'react-redux';\r\nimport FriendList from './FriendList'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    friendsList: state.sidebar.friendsList\r\n  }\r\n}\r\nconst FriendsListContainer = connect(mapStateToProps)(FriendList);\r\n\r\nexport default FriendsListContainer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './../NavBar.module.css';\r\n\r\n\r\nconst Menu = () => {\r\n  return (\r\n      <div className={s.nav_wrap}>\r\n        <div className={s.item}>\r\n          <NavLink to='/profile' className={s.link} activeClassName={s.active}>Profile </NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/messages' className={s.link} activeClassName={s.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/feed' className={s.link} activeClassName={s.active}>Feed</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/music' className={s.link} activeClassName={s.active}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/settings' className={s.link} activeClassName={s.active}>Settings</NavLink>\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Menu;","import React from 'react'\r\nimport FriendsListContainer from './FriendsList/FriendsListContainer';\r\nimport Menu from './Menu/Menu';\r\nimport s from './NavBar.module.css';\r\n\r\nconst NavBar = () => {\r\n  return(\r\n      <nav className={s.nav}>\r\n        <Menu />\r\n        <FriendsListContainer />\r\n      </nav>\r\n  )\r\n}\r\nexport default NavBar;","import React from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './../Messages.module.css';\r\n\r\nconst MessageUser = ({name, id}) => {\r\n\r\n  let path = `/messages/${id}`;\r\n  return(\r\n    <div >\r\n      <NavLink className={s.messagesUsers_user} to={path} activeClassName={s.messagesUsers_userActive}>{name}</NavLink> \r\n    </div>\r\n  )\r\n}\r\nexport default MessageUser;","import React from 'react'\r\nimport s from './../Messages.module.css';\r\n\r\nconst Message = ({message}) => {\r\n  return <div className={s.message}>{message}</div>\r\n}\r\n\r\nexport default Message;","import React from 'react'\r\nimport s from './Messages.module.css';\r\nimport MessageUser from './MessageUser/MessageUser'\r\nimport Message from './Message/Message';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { TextArea } from './../common/FormsControl/FormsControl';\r\nimport { required, maxLengthCreator } from './../validate/validate';\r\n\r\nconst maxLength10 = maxLengthCreator(100);\r\n\r\n\r\nconst Messages = (props) => {\r\n  \r\n  let state = props.messagesPage;\r\n\r\n  let dialogsElems = state.dialogs.map(d => <MessageUser name={d.name} key={d.id} id={d.id}/> );\r\n  let messagesElems = state.messages.map(m =>  <Message message={m.message} key={m.id} id={m.id}/>)\r\n\r\n  let addNewMessage = (values) => {\r\n    props.sendMsg(values.messageText);\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1 className={s.title}>Messages</h1>\r\n      <div className={s.messagesWrapper}>\r\n        <div className={s.messagesUsers}>\r\n          { dialogsElems }\r\n        </div>\r\n        <div className={s.messagesWindow}>\r\n          <div>{ messagesElems }</div>\r\n          <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst addMessageForm = (props) => {\r\n  return(\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field component={TextArea} name='messageText'\r\n        validate={[ required, maxLength10 ]}\r\n        placeholder='Enter yor message'\r\n      />\r\n      <div>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'messageForm'})(addMessageForm);\r\n\r\nexport default Messages;\r\n","import { connect } from 'react-redux';\r\nimport { sendMsgActionCreator } from '../../redux/reducerMessages';\r\nimport Messages from './Messages';\r\nimport AuthRedirect from './../hoc/AuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMsg: (messageText) => {\r\n      dispatch(sendMsgActionCreator(messageText));\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    messagesPage: state.messagesPage,\r\n  }\r\n}\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  AuthRedirect\r\n)(Messages);","import React from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n\r\n\r\n  return(\r\n    <header className={s.header}>\r\n      <img className={s.headerImg} src=\"https://upload.wikimedia.org/wikipedia/commons/a/ab/Android_O_Preview_Logo.png\" />\r\n      <div className={s.nav_wrap}>\r\n        <NavLink to='/feed' className={s.header_link} activeClassName={s.active_link}>Feed</NavLink>\r\n        <NavLink to='/music' className={s.header_link} activeClassName={s.active_link}>Music</NavLink>\r\n        <NavLink to='/users' className={s.header_link} activeClassName={s.active_link}>Find Users</NavLink>\r\n        {props.isAuth ? \r\n          <button className={s.logout_btn} onClick={props.logout}>Log Out</button> :\r\n          <NavLink to='/login' className={s.logout_btn}>Log In</NavLink> }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","import React from 'react'\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from './../../redux/reducerAuth';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n\r\n  render() {\r\n\r\n\r\n\r\n    return(\r\n      <Header {...this.props}/>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n  }\r\n}\r\nexport default connect(mapStateToProps, { logout})(HeaderContainer);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from './../common/FormsControl/FormsControl';\r\nimport { required } from './../validate/validate';\r\nimport { login } from '../../redux/reducerAuth';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport s from '../common/FormsControl/FormControl.module.css'\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n      <form onSubmit={props.handleSubmit}>\r\n          <Field \r\n            name='email' \r\n            validate={required}\r\n            component={Input} \r\n            type='email' \r\n            placeholder='Email' />\r\n            \r\n          <Field name='password' component={Input} validate={required} type='password' placeholder='Password' />\r\n          <Field name='rememberMe' validate={required} component={Input} type='checkbox' /> remember me\r\n          {props.error && <div className={s.groupError}>{props.error}</div> }\r\n        <div>\r\n          <button>Login</button>\r\n        </div>\r\n\r\n      </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm) \r\n\r\nconst Login = (props) => {\r\n  const onSubmit = ({ email, password, rememberMe }) => {\r\n  props.login(email, password, rememberMe);\r\n    \r\n  }\r\n  if(props.isAuth){\r\n    return <Redirect to='/profile'/> \r\n  }\r\n  return (\r\n    <>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </>\r\n  )\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\nexport default connect(mapStateToProps, { login })(Login);","import React, { Suspense } from 'react';\nimport './app.css';\nimport store from './redux/redux-store';\nimport NavBar from './components/NavBar/NavBar';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport MessagesContainer from './components/Messages/MessagesContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect, Provider } from 'react-redux';\nimport { setInitApp } from './redux/reducerApp';\nimport Preloader from './components/common/Preloader/Preloader';\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.setInitApp();\n  }\n  \n  render(){\n    if(!this.props.init){\n      return <Preloader />\n    }\n    return (\n        <div className='app-wrapper'>\n          <HeaderContainer />\n          <NavBar />\n          <div className='app-wrapper-content'>\n            <Route \n              path='/messages' \n              render={() => <MessagesContainer />}\n            />\n\n            <Route \n              path='/profile/:userId?' \n              render={() => {\n                return <Suspense fallback={<div>Loading</div>}>\n                  <ProfileContainer />\n                </Suspense>\n              }\n              }\n            />\n            <Route \n              exact \n              path='/users' \n              render={() => {\n                return <Suspense fallback={<div>Loading</div>}>\n                  <UsersContainer />\n                </Suspense>\n                }\n              }\n              \n            />\n            <Route \n              exact \n              path='/login' \n              render={() => <Login />}\n            />\n          </div>\n        </div>\n\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    init: state.app.initialized\n  }\n}\n\nconst AppContainer = connect(mapStateToProps, { setInitApp })(App);\n\nconst MainApp = () => {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  )\n}\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport MainApp from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <MainApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","export const required = (value) => {\r\n  if(value) return undefined;\r\n\r\n  return 'This Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n}","import React from 'react';\r\nimport s from './FormControl.module.css'\r\n\r\n\r\nconst FormControl = ({ input, child, meta: { touched, error }, ...props }) => {\r\n  \r\n  const hasError = touched && error;\r\n\r\n  return (\r\n    <div className={hasError ? s.errorInput : ''}>\r\n      {props.children}\r\n      {hasError && <span className={s.error}>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const TextArea = (props) => {\r\n  const { input, meta, ...restProps } = props\r\n  return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n};\r\n\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, ...restProps } = props\r\n  return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormControl_error__1xmec\",\"errorInput\":\"FormControl_errorInput___v6Nw\",\"groupError\":\"FormControl_groupError__2sjUV\"};","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id:1, message:'Hi', likesCount:12},\r\n    {id:2, message: 'Hi',  likesCount:12},\r\n    {id:3, message:'Hi, how are you?',  likesCount:12},\r\n    {id:4, message: 'pzdc',  likesCount:12},\r\n    {id:5, message: 'are you?',  likesCount:12},\r\n    {id:6, message: 'another pzdc',  likesCount:12},\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nconst reducerProfile = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.postText,\r\n        likesCount:0\r\n      }\r\n      return {\r\n        ...state,\r\n        newPostText: '',\r\n        posts: [...state.posts, newPost]\r\n      };\r\n    case SET_USER_PROFILE:{\r\n      return{\r\n        ...state, profile: action.profile\r\n      }\r\n    }\r\n    case SET_USER_STATUS:{\r\n      return{\r\n        ...state, status: action.status\r\n      }\r\n    }\r\n    case DELETE_POST:{\r\n      return{\r\n        ...state, posts: state.posts.filter(p => p.id !== action.postId)\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default reducerProfile;\r\n\r\n/******* ACTION CREATORS */\r\n\r\nexport const addPostActionCreator = (postText) => {\r\n  return {\r\n    type: ADD_POST,\r\n    postText\r\n  }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n  return {\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n  }\r\n}\r\nexport const setUserStatus = (status) => {\r\n  return {\r\n    type: SET_USER_STATUS,\r\n    status\r\n  }\r\n}\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\n\r\n/*********** THUNK */\r\nexport const getUserProfile = (userId) => {\r\n  return  async(dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data))\r\n  }\r\n}\r\nexport const getUserStatus = (userId) => {\r\n  return  async(dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response.data))\r\n  }\r\n}\r\nexport const updateUserStatus = (status) => {\r\n  return  async(dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if(response.data.resultCode === 0){\r\n\r\n      dispatch(setUserStatus(status))\r\n    }\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/Spinner.b767aab4.svg\";","import React from 'react';\r\nimport Loading from '../../../assets/images/Spinner.svg'\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div>\r\n       <img src={Loading} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;"],"sourceRoot":""}